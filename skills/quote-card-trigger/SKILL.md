---
name: quote-card-trigger
description: 检测会话文本中的引用块；若输入只包含一个引用块，则自动调用 `add-card` 技能创建闪念卡。
metadata:
  author: flash-hu
  version: "0.1"
---

# Quote Card Trigger

## 适用场景

- 用户贴出带 `>` 的 Markdown 内容，希望快速识别引用段。
- 输入只有一个引用块时，希望直接写入 `fleeting/` 中的笔记，无需手动复制。

## 操作流程（人工判断 + 调用 add-card）

1. **获取原文**：从会话复制 Markdown 片段，保留每行开头的 `>`。  
2. **验证结构**：确认所有非空行都以 `>` 开头；若混入正文或多个引用块，先请用户拆分或逐段处理。  
3. **清洗内容**：去掉每行的 `>` 与空格，将文本合并为自然语言段落，必要时压缩为 1-2 句。  
4. **生成标题**：用 3-6 个词概括引用要点，去除特殊字符；同时作为闪念卡文件名。  
5. **调用 add-card 技能**：把整理好的标题与摘要交给 `add-card`（无需自己运行脚本），让它负责生成 `fleeting/` 笔记并返回路径。  
6. **反馈结果**：把 `add-card` 返回的路径告知用户，提醒其到 Obsidian 查阅。

## 注意事项

- 如果引用块内含多段内容，不触发。
- 标题需短促有力，避免包含 `/\\:*?"<>|` 等非法字符。  
- `quote-card-trigger` 只负责识别和提炼；写卡仍依赖 `add-card` 技能，请确保该技能可用，并在调用时明确传递标题、摘要。  
